# **Gobang**

## **概要**

这是一个基于最小最大搜索算法的五子棋AI，其中五子棋采取的规则是[swap2 rule](https://en.wikipedia.org/wiki/Gomoku#Official_rules)。

### **关于具体的算法**：

这个AI以minimax搜索算法为主体（见Minimax_Search.hpp文件，包含α-β剪枝），通过生成函数生成下一步落子位置（见Generator.hpp文件，实现了启发式搜索），再由评估函数评估棋局（见Evaluator.hpp文件）。另外还实现了Zobrist哈希来判断重复棋局，以减少运算时间。关于这些算法的具体介绍可以参考[这篇文章](https://github.com/lihongxun945/myblog/issues/11)。

虽然说minimax搜索是算法的主体，但是相对来说评估函数与生成函数花费了我更多的时间。在评估函数中，我在简单的对连子的价值判断之外，还额外考虑了先后手问题（设定为一般情况下，相同情形后手分数是先手的80%）、棋盘空间限制问题（比如：○+◉◉◉+○）、棋盘上双三的问题（双三的价值理应比单独的两个活二要高得多）。但是后两个问题的价值判断较为复杂，具体可参考评估函数部分。目前的评估函数的结果应该算是比较能反映棋局情况的。

而生成函数由于加入了启发式搜索，其思路与评估函数差不多。Generator.hpp中的生成函数考虑了连子的价值判断、棋盘的空间限制问题、双三类问题，再按价值高低生成出可能的落子位置。

当然这样的评估函数与生成函数代码量较大，而且运算时间较长（只能在六层以内有较快的速度），这是这种生成函数与评估函数的不足之处。

另外，由于采取了swap2规则，需要考虑棋子颜色翻转的情况，这是比较特殊的地方。在代码中，我直接将这种特殊情况纳入了minimax的搜索树中（不难实现）。

但是，目前的AI在处理前几步的时候速度显得比较慢，这应该和颜色翻转前调用的生成函数有关系。

### **关于其它文件**

仓库中的文件一部分在前面已经说明，而剩下的：

+ Gobang_web：前端部分
+ AIController.h：规范文件
+ baseline：需要打败的AI（可执行文件
+ baseline.cpp：需要打败的AI（接口
+ Display.hpp：调试用，展示棋盘
+ Evaluator_test.cpp：调试用，测试评估函数
+ Generator_test.cpp：调试用，测试生成函数
+ Global.hpp：全局变量所在文件
+ GobangAI：AI（可执行文件
+ GobangAI.cpp：AI（接口
+ judge.py：评测

详细可参考：[项目说明](https://github.com/Gabr1e1/Gomoku)

### **待完成**

+ 实现算杀
+ 优化计算前几步的算法
+ ……
